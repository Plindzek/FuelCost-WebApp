<!DOCTYPE html>
<html>

 <style>
    body {
        background-image: url('images/1.jpg');
        background-repeat: inherit; 
        background-position: center;
        }
    form {
        border-radius: 1em;
        padding: 1em;
        position: absolute;
        top: 30%;
        left: 60%;
        margin-right: -50%;
        transform: translate(-50%, -50%) }
        div{
        position: absolute;
        top: 60%;
        left: 50%;
        margin-right: -50%;
        transform: translate(-50%, -50%) }
  </style>
  
<head>
<meta charset="UTF-8">
<title>FUEL-APP</title>
<link rel="stylesheet" href="https://unpkg.com/purecss@1.0.1/build/pure-min.css" 
integrity="sha384-oAOxQR6DkCoMliIh8yFnu25d7Eq/PHS21PClpwjOTeU2jRSq11vu66rf90/cZr47" crossorigin="anonymous">
</head>

<body>
<form id="welcome" class="pure-form" style="width:40%;margin:auto">
    <input type="text" name="name" class="pure-input-rounded" placeholder="name">
	
	<fieldset id="langs"></fieldset>
    <button id="btn" class="pure-button pure-button-primary">Submit</button>
    
</form>

<div id="resp"
style="text-align: center;color: #ff0000;">
</div>


<script>
const API_URL='http://localhost:8080/api';
const CODE_TO_EMOJI = {
        'pl': 'ðŸ‡µðŸ‡±',
        'en': 'ðŸ‡ºðŸ‡¸',
        'de': 'ðŸ‡©ðŸ‡ª'
      };
fetch(`${API_URL}/langs`)
.then(response=>response.json())
.then(langArr=>{
    const checkboxes = langArr.map(lang=>`<label class="pure-radio">
        <input type="radio" name="lang" value="${lang.langId}" >    
        ${CODE_TO_EMOJI[lang.langCode]}
    </label>`)
    .join('\n');
     document.getElementById('langs').innerHTML = checkboxes
}); 

const div = document.getElementById('resp');
const form = document.getElementById('welcome');
document.getElementById('btn').addEventListener('click', (event)=> {
  event.preventDefault(); 
  const formObj = { 
	name:form.elements.name.value,
	lang:form.elements.lang.value
	};
  fetch (`${API_URL}?${new URLSearchParams(formObj)}`)
  .then(response=>response.text())
  .then((text)=>{div.innerHTML=`<h1>${text}</h1>`
  });
});

</script>
</body>
</html>